<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Follow along nav</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <nav class="top">
        <div class="dropdownBackground">
            <span class="arrow"></span>
        </div>

        <ul class="cool">
            <li>
                <a href="#">About</a>
                <div class="dropdown dropdown1">
                    <div class="bio">
                        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Inventore vitae minus sapiente, explicabo minima voluptatibus provident delectus dolorum! Accusantium unde voluptatem, eius deleniti quidem facere quaerat non sequi. Exercitationem quibusdam optio excepturi ea ullam sit iusto ratione minima a dolor cumque consectetur laudantium explicabo praesentium deleniti voluptate aliquid, rerum maxime.</p>
                    </div>
                </div>
            </li>
            <li>
                <a href="#">Courses</a>
                <ul class="dropdown courses">
                    <li>
                        <a href="#">Javascript</a>
                    </li>
                    <li>
                        <a href="#">React</a>
                    </li>
                    <li>
                        <a href="#">CSS</a>
                    </li>
                </ul>
            </li>
            <li>
                <a href="#">Other links</a>
                <ul class="dropdown dropdown3">
                    <li>
                        <a href="#"><img src="icons8-facebook-48.png" alt=""></a>
                    </li>
                    <li>
                        <a href="#"><img src="icons8-instagram-50.png" alt=""></a>
                    </li>
                    <li>
                        <a href="#"><img src="icons8-twitter-48.png" alt=""></a>
                    </li>

                </ul>
            </li>
        </ul>
    </nav>
</body>
<script>
    const triggers = document.querySelectorAll('.cool > li');
    const background = document.querySelector('.dropdownBackground');
    const nav = document.querySelector('.top');

    function handleEnter(){
        this.classList.add('trigger-enter');
        setTimeout( ()=>{
            this.classList.add('trigger-enter-active');
        },150);
        background.classList.add('open');

        const dropdown = this.querySelector('.dropdown');
        const dropdownCoords = dropdown.getBoundingClientRect();
        const navCoords = nav.getBoundingClientRect();

        const coords = {
            height: dropdownCoords.height,
            width: dropdownCoords.width,
            top: dropdownCoords.top - navCoords.top,
            left: dropdownCoords.left - navCoords.left
        };

        background.style.setProperty('width',`${dropdownCoords.width}px`);
        background.style.setProperty('height',`${dropdownCoords.height}px`);
        background.style.setProperty('transform',`translate(${coords.left}px, ${coords.top}px)`);
    }

    function handleLeave(){ 
        this.classList.remove('trigger-enter','trigger-enter-active');
        background.classList.remove('open');
    }

    triggers.forEach(trigger => trigger.addEventListener('mouseenter', handleEnter));
    triggers.forEach(trigger => trigger.addEventListener('mouseleave', handleLeave));
</script>
</html>